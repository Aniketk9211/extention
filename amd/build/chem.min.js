define("tiny_extention/chem",["exports","core/modal","core/config"],(function(_exports,_modal,_config){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function loadScript(url){return new Promise(((resolve,reject)=>{if(document.querySelector(`script[src="${url}"]`))return console.log(`Script already loaded: ${url}`),void resolve();var script=document.createElement("script");script.type="text/javascript",script.src=url,script.onload=()=>{console.log(`Successfully loaded: ${url}`),resolve()},script.onerror=()=>{console.error(`Failed to load script: ${url}`),reject(new Error(`Failed to load script: ${url}`))}}))}function loadCSS(url){return new Promise(((resolve,reject)=>{if(document.querySelector(`link[href="${url}"]`))return console.log(`Stylesheet already loaded: ${url}`),void resolve();var link=document.createElement("link");link.rel="stylesheet",link.href=url,link.type="text/css",link.onload=()=>{console.log(`Successfully loaded: ${url}`),resolve()},link.onerror=()=>{console.error(`Failed to load CSS: ${url}`),reject(new Error(`Failed to load CSS: ${url}`))}}))}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=async function(){try{const title="ChemDoodle Sketcher",modal=await _modal.default.create({title:title,show:!0,removeOnClose:!0}),chemDoodleHtml='\n            <div id="chemdoodle-sketcher" style="width:800px; height:400px;">Moodle Skether Place</div>\n        ';modal.setBody(chemDoodleHtml),await async function(){try{const baseUrl=`${_config.default.wwwroot}/lib/editor/tiny/plugins/extention/ChemDoodleWeb/install/`;await loadCSS(`${baseUrl}ChemDoodleWeb.css`),await loadScript(`${baseUrl}ChemDoodleWeb.js`),await loadCSS(`${baseUrl}uis/jquery-ui-1.11.4.css`),await loadScript(`${baseUrl}uis/ChemDoodleWeb-uis.js`),console.log("All ChemDoodle components loaded successfully")}catch(error){console.error("Failed to load ChemDoodle components:",error)}}(),modal.getRoot().on("shown",(()=>{!async function(){new ChemDoodle.SketcherCanvas("chemdoodle-sketcher",800,400,{useServices:!1,oneMolecule:!0,isMobile:!1}).repaint(),console.log("ChemDoodle initialized.")}()})),modal.show()}catch(error){console.error("Error displaying modal:",error)}},_modal=_interopRequireDefault(_modal),_config=_interopRequireDefault(_config)}));

//# sourceMappingURL=chem.min.js.map